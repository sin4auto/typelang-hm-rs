rustup component list --installed | grep -q '^rustfmt' || rustup component add rustfmt
rustup component list --installed | grep -q '^clippy'  || rustup component add clippy
command -v cargo-llvm-cov >/dev/null 2>&1 || { rustup component add llvm-tools-preview; cargo install cargo-llvm-cov --locked; }
command -v cargo-audit   >/dev/null 2>&1 || cargo install cargo-audit --locked
command -v cargo-outdated >/dev/null 2>&1 || cargo install cargo-outdated --locked
command -v cargo-udeps   >/dev/null 2>&1 || cargo install cargo-udeps --locked
rustup toolchain list | grep -q '^nightly' || rustup toolchain install nightly
rustup +nightly component add miri || true
rustup +nightly component add rust-src || true
cargo +nightly miri setup || true
info: component 'miri' for target 'x86_64-unknown-linux-gnu' is up to date
info: component 'rust-src' is up to date
A sysroot for Miri is already available in `/home/hsin/.cache/miri`.
cargo clean
     Removed 2371 files, 1.2GiB total
RUSTDOCFLAGS="-D warnings" cargo doc --workspace --no-deps --all-features
    Checking cfg-if v1.0.4
   Compiling version_check v0.9.5
   Compiling proc-macro2 v1.0.103
   Compiling zerocopy v0.8.27
   Compiling quote v1.0.41
   Compiling cranelift-isle v0.110.3
   Compiling unicode-ident v1.0.22
    Checking once_cell v1.21.3
   Compiling cranelift-codegen-shared v0.110.3
    Checking hashbrown v0.16.0
    Checking equivalent v1.0.2
   Compiling cranelift-codegen-meta v0.110.3
   Compiling target-lexicon v0.12.16
   Compiling ahash v0.8.12
    Checking cranelift-bitset v0.110.3
    Checking cranelift-entity v0.110.3
    Checking arbitrary v1.4.2
    Checking indexmap v2.12.0
    Checking slice-group-by v0.3.1
    Checking log v0.4.28
    Checking rustc-hash v1.1.0
    Checking smallvec v1.15.1
   Compiling syn v2.0.108
    Checking cranelift-bforest v0.110.3
    Checking gimli v0.28.1
    Checking cranelift-control v0.110.3
    Checking bumpalo v3.19.0
    Checking hashbrown v0.14.5
   Compiling serde_core v1.0.228
   Compiling anyhow v1.0.100
   Compiling libc v0.2.177
   Compiling crc32fast v1.5.0
    Checking utf8parse v0.2.2
    Checking anstyle-parse v0.2.7
    Checking hashbrown v0.13.2
    Checking anstyle v1.0.13
    Checking is_terminal_polyfill v1.70.2
    Checking colorchoice v1.0.4
    Checking foldhash v0.1.5
    Checking anstyle-query v1.1.4
   Compiling getrandom v0.3.4
    Checking memchr v2.7.6
   Compiling object v0.36.7
   Compiling rustix v1.1.2
    Checking hashbrown v0.15.5
    Checking regalloc2 v0.9.3
    Checking anstream v0.6.21
   Compiling cranelift-codegen v0.110.3
    Checking linux-raw-sys v0.11.0
   Compiling serde_json v1.0.145
    Checking bitflags v2.10.0
    Checking clap_lex v0.7.6
    Checking strsim v0.11.1
   Compiling thiserror v1.0.69
   Compiling serde v1.0.228
   Compiling heck v0.5.0
    Checking clap_builder v4.5.51
    Checking ryu v1.0.20
    Checking itoa v1.0.15
    Checking fastrand v2.3.0
   Compiling runtime_native v0.1.0 (/home/hsin/myprojects/typelang-hm-rs/runtime_native)
 Documenting runtime_native v0.1.0 (/home/hsin/myprojects/typelang-hm-rs/runtime_native)
   Compiling clap_derive v4.5.49
   Compiling thiserror-impl v1.0.69
   Compiling serde_derive v1.0.228
    Checking tempfile v3.23.0
    Checking clap v4.5.51
    Checking cranelift-module v0.110.3
    Checking cranelift-native v0.110.3
    Checking cranelift-frontend v0.110.3
    Checking cranelift-object v0.110.3
    Checking typelang-hm-rs v0.1.0 (/home/hsin/myprojects/typelang-hm-rs)
 Documenting typelang-hm-rs v0.1.0 (/home/hsin/myprojects/typelang-hm-rs)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 17.96s
   Generated /home/hsin/myprojects/typelang-hm-rs/target/doc/runtime_native/index.html and 2 other files
cargo fmt --all
cargo clippy --workspace --all-targets --all-features -- -D warnings
    Blocking waiting for file lock on build directory
    Checking clap v4.5.51
   Compiling runtime_native v0.1.0 (/home/hsin/myprojects/typelang-hm-rs/runtime_native)
    Checking typelang-hm-rs v0.1.0 (/home/hsin/myprojects/typelang-hm-rs)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 9.59s
RUSTFLAGS="-D warnings" cargo test --workspace --all-features
    Blocking waiting for file lock on build directory
   Compiling cfg-if v1.0.4
   Compiling zerocopy v0.8.27
   Compiling version_check v0.9.5
   Compiling proc-macro2 v1.0.103
   Compiling once_cell v1.21.3
   Compiling unicode-ident v1.0.22
   Compiling cranelift-isle v0.110.3
   Compiling quote v1.0.41
   Compiling equivalent v1.0.2
   Compiling hashbrown v0.16.0
   Compiling cranelift-codegen-shared v0.110.3
   Compiling cranelift-codegen-meta v0.110.3
   Compiling target-lexicon v0.12.16
   Compiling ahash v0.8.12
   Compiling cranelift-bitset v0.110.3
   Compiling cranelift-entity v0.110.3
   Compiling log v0.4.28
   Compiling indexmap v2.12.0
   Compiling arbitrary v1.4.2
   Compiling smallvec v1.15.1
   Compiling rustc-hash v1.1.0
   Compiling slice-group-by v0.3.1
   Compiling cranelift-bforest v0.110.3
   Compiling hashbrown v0.14.5
   Compiling syn v2.0.108
   Compiling gimli v0.28.1
   Compiling cranelift-control v0.110.3
   Compiling bumpalo v3.19.0
   Compiling utf8parse v0.2.2
   Compiling crc32fast v1.5.0
   Compiling anyhow v1.0.100
   Compiling libc v0.2.177
   Compiling serde_core v1.0.228
   Compiling anstyle-parse v0.2.7
   Compiling hashbrown v0.13.2
   Compiling anstyle-query v1.1.4
   Compiling is_terminal_polyfill v1.70.2
   Compiling foldhash v0.1.5
   Compiling rustix v1.1.2
   Compiling memchr v2.7.6
   Compiling getrandom v0.3.4
   Compiling anstyle v1.0.13
   Compiling object v0.36.7
   Compiling cranelift-codegen v0.110.3
   Compiling colorchoice v1.0.4
   Compiling anstream v0.6.21
   Compiling regalloc2 v0.9.3
   Compiling hashbrown v0.15.5
   Compiling heck v0.5.0
   Compiling serde_json v1.0.145
   Compiling thiserror v1.0.69
   Compiling clap_lex v0.7.6
   Compiling serde v1.0.228
   Compiling bitflags v2.10.0
   Compiling strsim v0.11.1
   Compiling linux-raw-sys v0.11.0
   Compiling clap_builder v4.5.51
   Compiling itoa v1.0.15
   Compiling ryu v1.0.20
   Compiling fastrand v2.3.0
   Compiling runtime_native v0.1.0 (/home/hsin/myprojects/typelang-hm-rs/runtime_native)
   Compiling serde_derive v1.0.228
   Compiling clap_derive v4.5.49
   Compiling thiserror-impl v1.0.69
   Compiling tempfile v3.23.0
   Compiling clap v4.5.51
   Compiling cranelift-module v0.110.3
   Compiling cranelift-native v0.110.3
   Compiling cranelift-frontend v0.110.3
   Compiling cranelift-object v0.110.3
   Compiling typelang-hm-rs v0.1.0 (/home/hsin/myprojects/typelang-hm-rs)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 26.30s
     Running unittests src/lib.rs (target/debug/deps/runtime_native-4140870786fbd6cd)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/runtime.rs (target/debug/deps/runtime-db76d09a6e6ed802)

running 4 tests
test bool_logic_dictionary_supports_unary_method ... ok
test dictionary_builder_supports_metadata ... ok
test value_result_retains_status ... ok
test eq_dictionary_exposes_methods ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/typelang-d4d60a95f2810541)

running 47 tests
test codegen::dictionary_codegen::tests::assign_missing_builders_generates_unique_symbols ... ok
test parser::tests::decode_char_escapes_and_plain ... ok
test evaluator::tests::nonzero_filters_zero_and_keeps_positive ... ok
test parser::tests::decode_string_basic_escapes ... ok
test evaluator::tests::apply_partially_applies_multi_param_closure ... ok
test evaluator::tests::apply_rejects_closure_without_params ... ok
test repl::cmd::tests::handle_command_core_scenarios ... ok
test repl::cmd::tests::load_and_reload_flow ... ok
test repl::cmd::tests::needs_more_input_cases ... ok
test repl::cmd::tests::parse_repl_command_invalid_inputs ... ok
test repl::cmd::tests::normalize_let_payload_cases ... ok
test repl::cmd::tests::run_repl_with_script_executes_commands ... ok
test repl::cmd::tests::type_and_eval_pipeline ... ok
test repl::line_editor::tests::history_path_prefers_env_variable ... ok
test repl::line_editor::tests::interpret_action_and_session_navigation ... ok
test repl::line_editor::tests::history_add_skips_empty_and_trims ... ok
test repl::line_editor::tests::history_save_and_load_roundtrip ... ok
test repl::line_editor::tests::history_respects_max_entries ... ok
test repl::line_editor::tests::interpret_action_ignores_incomplete_sequences ... ok
test repl::line_editor::tests::read_utf8_char_handles_multibyte ... ok
test repl::line_editor::tests::read_utf8_char_rejects_invalid_lead ... ok
test repl::line_editor::tests::refresh_line_repositions_cursor ... ok
test repl::cmd::tests::parse_repl_command_variants ... ok
test repl::printer::tests::write_value_variants_render_expected_strings ... ok
test repl::printer::tests::render_help_outputs_expected_text ... ok
test repl::line_editor::tests::editor_session_covers_boundary_branches ... ok
test repl::util::tests::normalize_pow_with_negative_int_exponent_changes_to_starstar ... ok
test repl::util::tests::normalize_keeps_other_ops_untouched ... ok
test repl::util::tests::normalize_recurse_into_collections ... ok
test repl::line_editor::tests::history_add_deduplicates ... ok
test runtime::tests::compare_covers_constructor_order_and_arity_mismatch ... ok
test runtime::tests::compare_handles_scalar_and_mixed_numeric_types ... ok
test runtime::tests::comparison_helpers_cover_mismatch_and_nan_cases ... ok
test repl::util::tests::normalize_pow_with_positive_exponent_stays_hat ... ok
test runtime::tests::env_child_reads_parent_without_copying ... ok
test runtime::tests::arithmetic_helpers_cover_success_and_failure_paths ... ok
test runtime::tests::env_remove_shadows_parent_binding ... ok
test runtime::tests::list_and_tuple_comparisons_cover_length_checks ... ok
test runtime::tests::primop_binary_captured_error_path_propagates ... ok
test runtime::tests::powi_negative_exponent_falls_back_to_f64 ... ok
test runtime::tests::primop_variants_apply_and_wrap_values ... ok
test runtime::tests::println_op_formats_and_records_lines ... ok
test runtime::tests::py_show_formats_data_and_reports_errors ... ok
test runtime::tests::py_show_handles_unit_like_and_list_variants ... ok
test runtime::tests::make_data_ctor_returns_immediate_or_curried_value ... ok
test runtime::tests::py_show_formats_scalar_variants ... ok
test runtime::tests::snapshot_respects_child_overrides_and_removals ... ok

test result: ok. 47 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running unittests src/bin/typelang.rs (target/debug/deps/typelang_repl-1a12719e40b03a7a)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/ast_display.rs (target/debug/deps/ast_display-754bd03b4f32c519)

running 2 tests
test expr_display_variants_render_expected_strings ... ok
test pattern_display_and_span_metadata ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/core_ir_tests.rs (target/debug/deps/core_ir_tests-31971e7c5aa186af)

running 4 tests
test lower_function_with_dictionary_param ... ok
test lower_polymorphic_binop_marks_dictionary_fallback ... ok
test lower_simple_program_to_core_ir ... ok
test lower_case_expression_to_match ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/errors.rs (target/debug/deps/errors-e53e8b709146ad60)

running 6 tests
test error_display_renders_stack_frames ... ok
test error_display_variants ... ok
test error_wrapper_renders_expected_strings ... ok
test lexer_and_parser_error_messages ... ok
test type_error_if_condition_not_bool ... ok
test type_error_rendering_via_support_helpers ... ok

test result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/evaluator.rs (target/debug/deps/evaluator-c7e69947b30ca33b)

running 2 tests
test eval_error_reports_stack_with_location ... ok
test evaluator_smoke_suite ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/integration.rs (target/debug/deps/integration-896fbd682fb0553f)

running 4 tests
test load_user_defined_class_and_instance ... ok
test load_data_and_case_evaluate ... ok
test evaluate_with_loaded_env_and_failure_paths ... ok
test load_examples_and_validate_types ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s

     Running tests/lexer_parser.rs (target/debug/deps/lexer_parser-b9f39d77524490b2)

running 10 tests
test lexer_error_paths ... ok
test lexer_happy_paths ... ok
test parser_error_cases ... ok
test lexer_unicode_handling ... ok
test parser_expr_round_trips ... ok
test parser_program_handles_class_and_instance_variants ... ok
test parser_program_handles_semicolons_and_data_decl ... ok
test parser_handles_deep_parentheses ... ok
test parser_program_reports_class_instance_errors ... ok
test parser_program_cases ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/native_build.rs (target/debug/deps/native_build-a89a908775cd174a)

running 10 tests
test emit_module_with_dictionary_param ... ok
test emit_native_reports_lambda_unsupported ... ok
test emit_native_supports_builtin_ord_dictionary ... ok
test emit_module_with_eq_bool_dictionary_runs ... ok
test build_program_with_println_intrinsic ... ok
test build_fractional_double_program_matches_interpreter ... ok
test build_program_with_dictionary_metadata ... ok
test cli_prints_dictionary_json ... ok
test build_and_run_simple_program ... ok
test build_basics_example_matches_interpreter ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 3.27s

     Running tests/test_support.rs (target/debug/deps/test_support-5e1a5e12031946d8)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/types_infer.rs (target/debug/deps/types_infer-85d6c5b0f1883d97)

running 7 tests
test infer_let_polymorphism_eval_ok ... ok
test pretty_qual_suppresses_irrelevant_constraints ... ok
test inference_error_cases ... ok
test inference_defaulting_behaviour ... ok
test unify_cases ... ok
test infer_and_eval_mutual_recursion_functions ... ok
test inference_type_strings ... ok

test result: ok. 7 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/typesys_additional.rs (target/debug/deps/typesys_additional-38465d6e7270b87b)

running 11 tests
test apply_defaulting_simple_prefers_fractional_over_num ... ok
test bind_performs_occurs_check ... ok
test class_env_entails_handles_lists_and_tuples ... ok
test compose_applies_substitutions_in_correct_order ... ok
test class_env_entails_uses_superclass_chain ... ok
test ftv_collects_unique_ids_from_nested_type ... ok
test generalize_and_instantiate_work_together ... ok
test pretty_qual_formats_various_type_shapes ... ok
test scheme_apply_subst_respects_bound_variables ... ok
test t_string_builds_char_list ... ok
test unify_rejects_tuple_length_mismatch ... ok

test result: ok. 11 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests runtime_native

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests typelang

running 3 tests
test src/repl/cmd.rs - repl::cmd::run_repl (line 24) - compile ... ok
test src/typesys.rs - typesys::apply_defaulting_simple (line 585) ... ok
test src/typesys.rs - typesys::pretty_qual (line 565) ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.45s

RUSTFLAGS="-D warnings" cargo build --workspace --all-features --release
   Compiling cfg-if v1.0.4
   Compiling zerocopy v0.8.27
   Compiling proc-macro2 v1.0.103
   Compiling version_check v0.9.5
   Compiling unicode-ident v1.0.22
   Compiling cranelift-isle v0.110.3
   Compiling once_cell v1.21.3
   Compiling quote v1.0.41
   Compiling cranelift-codegen-shared v0.110.3
   Compiling equivalent v1.0.2
   Compiling hashbrown v0.16.0
   Compiling cranelift-codegen-meta v0.110.3
   Compiling cranelift-bitset v0.110.3
   Compiling ahash v0.8.12
   Compiling target-lexicon v0.12.16
   Compiling cranelift-entity v0.110.3
   Compiling rustc-hash v1.1.0
   Compiling arbitrary v1.4.2
   Compiling log v0.4.28
   Compiling indexmap v2.12.0
   Compiling slice-group-by v0.3.1
   Compiling syn v2.0.108
   Compiling smallvec v1.15.1
   Compiling cranelift-bforest v0.110.3
   Compiling cranelift-control v0.110.3
   Compiling hashbrown v0.14.5
   Compiling bumpalo v3.19.0
   Compiling gimli v0.28.1
   Compiling anyhow v1.0.100
   Compiling serde_core v1.0.228
   Compiling utf8parse v0.2.2
   Compiling libc v0.2.177
   Compiling crc32fast v1.5.0
   Compiling hashbrown v0.13.2
   Compiling anstyle-parse v0.2.7
   Compiling cranelift-codegen v0.110.3
   Compiling is_terminal_polyfill v1.70.2
   Compiling memchr v2.7.6
   Compiling getrandom v0.3.4
   Compiling anstyle v1.0.13
   Compiling anstyle-query v1.1.4
   Compiling object v0.36.7
   Compiling foldhash v0.1.5
   Compiling colorchoice v1.0.4
   Compiling rustix v1.1.2
   Compiling anstream v0.6.21
   Compiling regalloc2 v0.9.3
   Compiling hashbrown v0.15.5
   Compiling linux-raw-sys v0.11.0
   Compiling serde v1.0.228
   Compiling bitflags v2.10.0
   Compiling thiserror v1.0.69
   Compiling strsim v0.11.1
   Compiling clap_lex v0.7.6
   Compiling heck v0.5.0
   Compiling serde_json v1.0.145
   Compiling clap_builder v4.5.51
   Compiling ryu v1.0.20
   Compiling serde_derive v1.0.228
   Compiling clap_derive v4.5.49
   Compiling thiserror-impl v1.0.69
   Compiling itoa v1.0.15
   Compiling fastrand v2.3.0
   Compiling tempfile v3.23.0
   Compiling runtime_native v0.1.0 (/home/hsin/myprojects/typelang-hm-rs/runtime_native)
   Compiling clap v4.5.51
   Compiling cranelift-module v0.110.3
   Compiling cranelift-native v0.110.3
   Compiling cranelift-frontend v0.110.3
   Compiling cranelift-object v0.110.3
   Compiling typelang-hm-rs v0.1.0 (/home/hsin/myprojects/typelang-hm-rs)
    Finished `release` profile [optimized] target(s) in 1m 10s
cargo audit
[0m[0m[1m[32m    Fetching[0m advisory database from `https://github.com/RustSec/advisory-db.git`
[0m[0m[1m[32m      Loaded[0m 862 security advisories (from /home/hsin/.cargo/advisory-db)
[0m[0m[1m[32m    Updating[0m crates.io index
[0m[0m[1m[32m    Scanning[0m Cargo.lock for vulnerabilities (92 crate dependencies)
cargo outdated
Name                                              Project  Compat   Latest   Kind    Platform
----                                              -------  ------   ------   ----    --------
ahash->cfg-if                                     1.0.4    ---      Removed  Normal  ---
ahash->once_cell                                  1.21.3   ---      Removed  Normal  cfg(not(all(target_arch = "arm", target_os = "none")))
ahash->version_check                              0.9.5    ---      Removed  Build   ---
ahash->zerocopy                                   0.8.27   ---      Removed  Normal  ---
clap_derive->quote                                1.0.41   1.0.42   1.0.42   Normal  ---
clap_derive->syn                                  2.0.108  2.0.109  2.0.109  Normal  ---
cranelift-bforest->cranelift-entity               0.110.3  ---      0.125.3  Normal  ---
cranelift-codegen                                 0.110.3  ---      0.125.3  Normal  ---
cranelift-codegen->cranelift-bforest              0.110.3  ---      0.125.3  Normal  ---
cranelift-codegen->cranelift-bitset               0.110.3  ---      0.125.3  Normal  ---
cranelift-codegen->cranelift-codegen-meta         0.110.3  ---      0.125.3  Build   ---
cranelift-codegen->cranelift-codegen-shared       0.110.3  ---      0.125.3  Normal  ---
cranelift-codegen->cranelift-control              0.110.3  ---      0.125.3  Normal  ---
cranelift-codegen->cranelift-entity               0.110.3  ---      0.125.3  Normal  ---
cranelift-codegen->cranelift-isle                 0.110.3  ---      0.125.3  Build   ---
cranelift-codegen->gimli                          0.28.1   ---      0.32.3   Normal  ---
cranelift-codegen->hashbrown                      0.14.5   ---      0.15.5   Normal  ---
cranelift-codegen->regalloc2                      0.9.3    ---      0.13.2   Normal  ---
cranelift-codegen->rustc-hash                     1.1.0    ---      2.1.1    Normal  ---
cranelift-codegen->target-lexicon                 0.12.16  ---      0.13.3   Normal  ---
cranelift-codegen-meta->cranelift-codegen-shared  0.110.3  ---      0.125.3  Normal  ---
cranelift-entity->cranelift-bitset                0.110.3  ---      0.125.3  Normal  ---
cranelift-frontend                                0.110.3  ---      0.125.3  Normal  ---
cranelift-frontend->cranelift-codegen             0.110.3  ---      0.125.3  Normal  ---
cranelift-frontend->target-lexicon                0.12.16  ---      0.13.3   Normal  ---
cranelift-module                                  0.110.3  ---      0.125.3  Normal  ---
cranelift-module->cranelift-codegen               0.110.3  ---      0.125.3  Normal  ---
cranelift-module->cranelift-control               0.110.3  ---      0.125.3  Normal  ---
cranelift-native                                  0.110.3  ---      0.125.3  Normal  ---
cranelift-native->cranelift-codegen               0.110.3  ---      0.125.3  Normal  ---
cranelift-native->target-lexicon                  0.12.16  ---      0.13.3   Normal  ---
cranelift-object                                  0.110.3  ---      0.125.3  Normal  ---
cranelift-object->cranelift-codegen               0.110.3  ---      0.125.3  Normal  ---
cranelift-object->cranelift-control               0.110.3  ---      0.125.3  Normal  ---
cranelift-object->cranelift-module                0.110.3  ---      0.125.3  Normal  ---
cranelift-object->object                          0.36.7   ---      0.37.3   Normal  ---
cranelift-object->target-lexicon                  0.12.16  ---      0.13.3   Normal  ---
hashbrown->ahash                                  0.8.12   ---      Removed  Normal  ---
proc-macro2->unicode-ident                        1.0.22   ---      Removed  Normal  ---
quote->proc-macro2                                1.0.103  ---      Removed  Normal  ---
regalloc2->hashbrown                              0.13.2   ---      0.15.5   Normal  ---
regalloc2->rustc-hash                             1.1.0    ---      2.1.1    Normal  ---
regalloc2->slice-group-by                         0.3.1    ---      Removed  Normal  ---
serde_derive->quote                               1.0.41   1.0.42   1.0.42   Normal  ---
serde_derive->syn                                 2.0.108  2.0.109  2.0.109  Normal  ---
syn->proc-macro2                                  1.0.103  ---      Removed  Normal  ---
syn->quote                                        1.0.41   1.0.42   1.0.42   Normal  ---
syn->quote                                        1.0.41   1.0.42   Removed  Normal  ---
syn->unicode-ident                                1.0.22   ---      Removed  Normal  ---
target-lexicon                                    0.12.16  ---      0.13.3   Normal  ---
thiserror                                         1.0.69   ---      2.0.17   Normal  ---
thiserror->thiserror-impl                         1.0.69   ---      2.0.17   Normal  ---
thiserror-impl->quote                             1.0.41   1.0.42   1.0.42   Normal  ---
thiserror-impl->syn                               2.0.108  2.0.109  2.0.109  Normal  ---
zerocopy->zerocopy-derive                         0.8.27   ---      Removed  Normal  ---
zerocopy-derive->proc-macro2                      1.0.103  ---      Removed  Normal  ---
zerocopy-derive->quote                            1.0.41   1.0.42   Removed  Normal  ---
zerocopy-derive->syn                              2.0.108  2.0.109  Removed  Normal  ---
cargo +nightly udeps --workspace
    Blocking waiting for file lock on package cache
    Blocking waiting for file lock on package cache
    Checking cfg-if v1.0.4
   Compiling proc-macro2 v1.0.103
   Compiling zerocopy v0.8.27
   Compiling version_check v0.9.5
   Compiling cranelift-isle v0.110.3
   Compiling quote v1.0.41
   Compiling unicode-ident v1.0.22
    Checking once_cell v1.21.3
    Checking hashbrown v0.16.0
   Compiling cranelift-codegen-shared v0.110.3
    Checking equivalent v1.0.2
   Compiling cranelift-codegen-meta v0.110.3
    Checking cranelift-bitset v0.110.3
   Compiling target-lexicon v0.12.16
   Compiling ahash v0.8.12
    Checking cranelift-entity v0.110.3
    Checking indexmap v2.12.0
    Checking arbitrary v1.4.2
    Checking smallvec v1.15.1
    Checking slice-group-by v0.3.1
   Compiling syn v2.0.108
    Checking log v0.4.28
    Checking rustc-hash v1.1.0
    Checking gimli v0.28.1
    Checking cranelift-control v0.110.3
    Checking cranelift-bforest v0.110.3
    Checking hashbrown v0.14.5
    Checking bumpalo v3.19.0
    Checking utf8parse v0.2.2
   Compiling crc32fast v1.5.0
   Compiling anyhow v1.0.100
   Compiling serde_core v1.0.228
   Compiling libc v0.2.177
    Checking anstyle-parse v0.2.7
    Checking memchr v2.7.6
    Checking anstyle-query v1.1.4
    Checking hashbrown v0.13.2
   Compiling rustix v1.1.2
   Compiling getrandom v0.3.4
    Checking colorchoice v1.0.4
    Checking anstyle v1.0.13
    Checking is_terminal_polyfill v1.70.2
   Compiling object v0.36.7
    Checking foldhash v0.1.5
    Checking anstream v0.6.21
   Compiling cranelift-codegen v0.110.3
    Checking hashbrown v0.15.5
    Checking regalloc2 v0.9.3
   Compiling heck v0.5.0
    Checking bitflags v2.10.0
    Checking clap_lex v0.7.6
   Compiling serde v1.0.228
    Checking strsim v0.11.1
   Compiling serde_json v1.0.145
    Checking linux-raw-sys v0.11.0
   Compiling thiserror v1.0.69
    Checking clap_builder v4.5.51
    Checking itoa v1.0.15
    Checking ryu v1.0.20
    Checking fastrand v2.3.0
   Compiling runtime_native v0.1.0 (/home/hsin/myprojects/typelang-hm-rs/runtime_native)
   Compiling thiserror-impl v1.0.69
   Compiling serde_derive v1.0.228
   Compiling clap_derive v4.5.49
    Checking tempfile v3.23.0
    Checking clap v4.5.51
    Checking cranelift-module v0.110.3
    Checking cranelift-native v0.110.3
    Checking cranelift-frontend v0.110.3
    Checking cranelift-object v0.110.3
    Checking typelang-hm-rs v0.1.0 (/home/hsin/myprojects/typelang-hm-rs)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 19.59s
info: Loading depinfo from "/home/hsin/myprojects/typelang-hm-rs/target/debug/build/runtime_native-0784db57c50ac145/build_script_build-0784db57c50ac145.d"
info: Loading depinfo from "/home/hsin/myprojects/typelang-hm-rs/target/debug/deps/runtime_native-6d1ce5a763da2e79.d"
info: Loading depinfo from "/home/hsin/myprojects/typelang-hm-rs/target/debug/deps/typelang-edf084cb8c1590e2.d"
info: Loading depinfo from "/home/hsin/myprojects/typelang-hm-rs/target/debug/deps/typelang_repl-70d5398fd25d338f.d"
All deps seem to have been used.
cargo +nightly miri test
   Compiling cfg-if v1.0.4
   Compiling zerocopy v0.8.27
   Compiling proc-macro2 v1.0.103
   Compiling version_check v0.9.5
   Compiling cranelift-isle v0.110.3
   Compiling once_cell v1.21.3
   Compiling unicode-ident v1.0.22
   Compiling quote v1.0.41
   Compiling equivalent v1.0.2
   Compiling cranelift-codegen-shared v0.110.3
   Compiling hashbrown v0.16.0
   Compiling cranelift-codegen-meta v0.110.3
   Compiling target-lexicon v0.12.16
   Compiling ahash v0.8.12
   Compiling cranelift-bitset v0.110.3
   Compiling cranelift-entity v0.110.3
   Compiling libc v0.2.177
   Compiling indexmap v2.12.0
   Compiling arbitrary v1.4.2
   Compiling slice-group-by v0.3.1
   Compiling smallvec v1.15.1
   Compiling syn v2.0.108
   Compiling log v0.4.28
   Compiling rustc-hash v1.1.0
   Compiling gimli v0.28.1
   Compiling cranelift-control v0.110.3
   Compiling cranelift-bforest v0.110.3
   Compiling bumpalo v3.19.0
   Compiling hashbrown v0.14.5
   Compiling anyhow v1.0.100
   Compiling crc32fast v1.5.0
   Compiling hashbrown v0.13.2
   Compiling utf8parse v0.2.2
   Compiling serde_core v1.0.228
   Compiling anstyle-parse v0.2.7
   Compiling rustix v1.1.2
   Compiling object v0.36.7
   Compiling regalloc2 v0.9.3
   Compiling anstyle-query v1.1.4
   Compiling getrandom v0.3.4
   Compiling is_terminal_polyfill v1.70.2
   Compiling memchr v2.7.6
   Compiling anstyle v1.0.13
   Compiling foldhash v0.1.5
   Compiling colorchoice v1.0.4
   Compiling hashbrown v0.15.5
   Compiling anstream v0.6.21
   Compiling errno v0.3.14
   Compiling serde_json v1.0.145
   Compiling cranelift-codegen v0.110.3
   Compiling linux-raw-sys v0.11.0
   Compiling clap_lex v0.7.6
   Compiling thiserror v1.0.69
   Compiling bitflags v2.10.0
   Compiling serde v1.0.228
   Compiling strsim v0.11.1
   Compiling heck v0.5.0
   Compiling clap_builder v4.5.51
   Compiling ryu v1.0.20
   Compiling fastrand v2.3.0
   Compiling itoa v1.0.15
   Compiling clap_derive v4.5.49
   Compiling thiserror-impl v1.0.69
   Compiling serde_derive v1.0.228
   Compiling tempfile v3.23.0
   Compiling clap v4.5.51
   Compiling cranelift-module v0.110.3
   Compiling cranelift-frontend v0.110.3
   Compiling cranelift-native v0.110.3
   Compiling cranelift-object v0.110.3
   Compiling typelang-hm-rs v0.1.0 (/home/hsin/myprojects/typelang-hm-rs)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 23.15s
     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/typelang-a1429bfa890e65ea)

running 47 tests
test codegen::dictionary_codegen::tests::assign_missing_builders_generates_unique_symbols ... ok
test evaluator::tests::apply_partially_applies_multi_param_closure ... ok
test evaluator::tests::apply_rejects_closure_without_params ... ok
test evaluator::tests::nonzero_filters_zero_and_keeps_positive ... ok
test parser::tests::decode_char_escapes_and_plain ... ok
test parser::tests::decode_string_basic_escapes ... ok
test repl::cmd::tests::handle_command_core_scenarios ... ok
test repl::cmd::tests::load_and_reload_flow ... ok
test repl::cmd::tests::needs_more_input_cases ... ok
test repl::cmd::tests::normalize_let_payload_cases ... ok
test repl::cmd::tests::parse_repl_command_invalid_inputs ... ok
test repl::cmd::tests::parse_repl_command_variants ... ok
test repl::cmd::tests::run_repl_with_script_executes_commands ... ok
test repl::cmd::tests::type_and_eval_pipeline ... ok
test repl::line_editor::tests::editor_session_covers_boundary_branches ... ok
test repl::line_editor::tests::history_add_deduplicates ... ok
test repl::line_editor::tests::history_add_skips_empty_and_trims ... ok
test repl::line_editor::tests::history_path_prefers_env_variable ... ok
test repl::line_editor::tests::history_respects_max_entries ... ok
test repl::line_editor::tests::history_save_and_load_roundtrip ... ignored, Miri isolation blocks directory creation APIs
test repl::line_editor::tests::interpret_action_and_session_navigation ... ok
test repl::line_editor::tests::interpret_action_ignores_incomplete_sequences ... ok
test repl::line_editor::tests::read_utf8_char_handles_multibyte ... ok
test repl::line_editor::tests::read_utf8_char_rejects_invalid_lead ... ok
test repl::line_editor::tests::refresh_line_repositions_cursor ... ok
test repl::printer::tests::render_help_outputs_expected_text ... ok
test repl::printer::tests::write_value_variants_render_expected_strings ... ok
test repl::util::tests::normalize_keeps_other_ops_untouched ... ok
test repl::util::tests::normalize_pow_with_negative_int_exponent_changes_to_starstar ... ok
test repl::util::tests::normalize_pow_with_positive_exponent_stays_hat ... ok
test repl::util::tests::normalize_recurse_into_collections ... ok
test runtime::tests::arithmetic_helpers_cover_success_and_failure_paths ... ok
test runtime::tests::compare_covers_constructor_order_and_arity_mismatch ... ok
test runtime::tests::compare_handles_scalar_and_mixed_numeric_types ... ok
test runtime::tests::comparison_helpers_cover_mismatch_and_nan_cases ... ok
test runtime::tests::env_child_reads_parent_without_copying ... ok
test runtime::tests::env_remove_shadows_parent_binding ... ok
test runtime::tests::list_and_tuple_comparisons_cover_length_checks ... ok
test runtime::tests::make_data_ctor_returns_immediate_or_curried_value ... ok
test runtime::tests::powi_negative_exponent_falls_back_to_f64 ... ok
test runtime::tests::primop_binary_captured_error_path_propagates ... ok
test runtime::tests::primop_variants_apply_and_wrap_values ... ok
test runtime::tests::println_op_formats_and_records_lines ... ok
test runtime::tests::py_show_formats_data_and_reports_errors ... ok
test runtime::tests::py_show_formats_scalar_variants ... ok
test runtime::tests::py_show_handles_unit_like_and_list_variants ... ok
test runtime::tests::snapshot_respects_child_overrides_and_removals ... ok

test result: ok. 46 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 16.19s

     Running unittests src/bin/typelang.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/typelang_repl-ac25965df65c24bc)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.03s

     Running tests/ast_display.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/ast_display-b66800a9eee5b322)

running 2 tests
test expr_display_variants_render_expected_strings ... ok
test pattern_display_and_span_metadata ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.79s

     Running tests/core_ir_tests.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/core_ir_tests-3f41adc02187353a)

running 4 tests
test lower_case_expression_to_match ... ok
test lower_function_with_dictionary_param ... ok
test lower_polymorphic_binop_marks_dictionary_fallback ... ok
test lower_simple_program_to_core_ir ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 18.43s

     Running tests/errors.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/errors-ce10fa151cb613dc)

running 6 tests
test error_display_renders_stack_frames ... ok
test error_display_variants ... ok
test error_wrapper_renders_expected_strings ... ok
test lexer_and_parser_error_messages ... ok
test type_error_if_condition_not_bool ... ok
test type_error_rendering_via_support_helpers ... ok

test result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 3.65s

     Running tests/evaluator.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/evaluator-715d2fbcff163e31)

running 2 tests
test eval_error_reports_stack_with_location ... ok
test evaluator_smoke_suite ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 17.29s

     Running tests/integration.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/integration-acf8c2b7d41b4e5f)

running 4 tests
test evaluate_with_loaded_env_and_failure_paths ... ok
test load_data_and_case_evaluate ... ok
test load_examples_and_validate_types ... ignored, Miri ã§ã¯ examples_ebnf_blackbox.tl ã®èª­è¾¼æ™‚ã«å¤§é‡ Clone ãŒç™ºç”Ÿã—ã€å‰²ã‚Šè¾¼ã¿ãŒå¿…è¦ã«ãªã‚‹ãŸã‚ç„¡åŠ¹åŒ–
test load_user_defined_class_and_instance ... ok

test result: ok. 3 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 21.69s

     Running tests/lexer_parser.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/lexer_parser-ae82dd2f23feb63f)

running 10 tests
test lexer_error_paths ... ok
test lexer_happy_paths ... ok
test lexer_unicode_handling ... ok
test parser_error_cases ... ok
test parser_expr_round_trips ... ok
test parser_handles_deep_parentheses ... ok
test parser_program_cases ... ok
test parser_program_handles_class_and_instance_variants ... ok
test parser_program_handles_semicolons_and_data_decl ... ok
test parser_program_reports_class_instance_errors ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 23.36s

     Running tests/native_build.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/native_build-b2bad5edd150dc87)

running 10 tests
test build_and_run_simple_program ... ignored, uses native backend and temp directories that Miri isolation forbids
test build_basics_example_matches_interpreter ... ignored, uses native backend and temp directories that Miri isolation forbids
test build_fractional_double_program_matches_interpreter ... ignored, uses native backend and temp directories that Miri isolation forbids
test build_program_with_dictionary_metadata ... ignored, uses native backend and temp directories that Miri isolation forbids
test build_program_with_println_intrinsic ... ignored, uses native backend and temp directories that Miri isolation forbids
test cli_prints_dictionary_json ... ignored, uses native backend and temp directories that Miri isolation forbids
test emit_module_with_dictionary_param ... ignored, uses native backend and temp directories that Miri isolation forbids
test emit_module_with_eq_bool_dictionary_runs ... ignored, uses native backend and temp directories that Miri isolation forbids
test emit_native_reports_lambda_unsupported ... ignored, uses native backend and temp directories that Miri isolation forbids
test emit_native_supports_builtin_ord_dictionary ... ignored, uses native backend and temp directories that Miri isolation forbids

test result: ok. 0 passed; 0 failed; 10 ignored; 0 measured; 0 filtered out; finished in 0.85s

     Running tests/test_support.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/test_support-4e796f167aaaa090)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.03s

     Running tests/types_infer.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/types_infer-ae34fe1e2d11f901)

running 7 tests
test infer_and_eval_mutual_recursion_functions ... ok
test infer_let_polymorphism_eval_ok ... ok
test inference_defaulting_behaviour ... ok
test inference_error_cases ... ok
test inference_type_strings ... ok
test pretty_qual_suppresses_irrelevant_constraints ... ok
test unify_cases ... ok

test result: ok. 7 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 35.10s

error: memory leaked: alloc469865 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc646184 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc645957 (Rust heap, size: 24, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<std::string::String>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<std::string::String>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<std::string::String as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:423:31: 423:68
    = note: inside `std::slice::<impl [std::string::String]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<std::string::String> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:146:21: 146:35
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc577112 (Rust heap, size: 332, align: 8), allocated here:
   --> /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15
    |
 19 |         match alloc.allocate(layout) {
    |               ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `hashbrown::raw::alloc::inner::do_alloc::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15: 19:37
    = note: inside `hashbrown::raw::RawTableInner::new_uninitialized::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1476:38: 1476:61
    = note: inside `hashbrown::raw::RawTableInner::fallible_with_capacity::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1515:21: 1515:87
    = note: inside `hashbrown::raw::RawTableInner::prepare_resize::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2584:13: 2584:94
    = note: inside `hashbrown::raw::RawTableInner::resize_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2782:29: 2782:86
    = note: inside `hashbrown::raw::RawTableInner::reserve_rehash_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2670:13: 2676:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve_rehash::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:991:13: 1002:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:939:20: 940:81
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::find_or_find_insert_slot::<{closure@hashbrown::map::equivalent_key<std::string::String, std::string::String, typelang::runtime::BindingValue>::{closure#0}}, {closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1146:9: 1146:32
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::find_or_find_insert_slot::<std::string::String>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1812:9: 1816:10
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::insert` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1792:15: 1792:54
    = note: inside `std::collections::HashMap::<std::string::String, typelang::runtime::BindingValue>::insert` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/collections/hash/map.rs:1208:9: 1208:31
    = note: inside `typelang::evaluator::Env::insert::<std::string::String>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:155:9: 158:53
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:150:9: 150:48
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc575777 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc474489 (Rust heap, size: 2600, align: 8), allocated here:
   --> /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15
    |
 19 |         match alloc.allocate(layout) {
    |               ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `hashbrown::raw::alloc::inner::do_alloc::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15: 19:37
    = note: inside `hashbrown::raw::RawTableInner::new_uninitialized::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1476:38: 1476:61
    = note: inside `hashbrown::raw::RawTableInner::fallible_with_capacity::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1515:21: 1515:87
    = note: inside `hashbrown::raw::RawTableInner::prepare_resize::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2584:13: 2584:94
    = note: inside `hashbrown::raw::RawTableInner::resize_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2782:29: 2782:86
    = note: inside `hashbrown::raw::RawTableInner::reserve_rehash_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2670:13: 2676:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve_rehash::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:991:13: 1002:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:939:20: 940:81
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::find_or_find_insert_slot::<{closure@hashbrown::map::equivalent_key<std::string::String, std::string::String, typelang::runtime::BindingValue>::{closure#0}}, {closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1146:9: 1146:32
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::find_or_find_insert_slot::<std::string::String>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1812:9: 1816:10
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::insert` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1792:15: 1792:54
    = note: inside `std::collections::HashMap::<std::string::String, typelang::runtime::BindingValue>::insert` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/collections/hash/map.rs:1208:9: 1208:31
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:155:9: 158:53
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc575323 (Rust heap, size: 80, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27
    |
418 |                 Box::leak(Box::new(RcInner { strong: Cell::new(1), weak: Cell::new(1), value }))
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::rc::Rc::<typelang::runtime::EnvFrame>::new` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27: 418:96
    = note: inside `typelang::evaluator::Env::child` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:134:20: 134:68
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:143:21: 143:32
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc479975 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:97:9: 97:19
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc477432 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc646076 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<std::string::String as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:430:36: 430:45
    = note: inside `std::slice::<impl [std::string::String]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<std::string::String> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:146:21: 146:35
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc578158 (Rust heap, size: 4, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:92:9: 92:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc574961 (Rust heap, size: 7, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc576542 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc577850 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:99:9: 99:25
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc577950 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:87:9: 87:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc468406 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc478197 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc572583 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc643363 (Rust heap, size: 2600, align: 8), allocated here:
   --> /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15
    |
 19 |         match alloc.allocate(layout) {
    |               ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `hashbrown::raw::alloc::inner::do_alloc::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15: 19:37
    = note: inside `hashbrown::raw::RawTableInner::new_uninitialized::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1476:38: 1476:61
    = note: inside `hashbrown::raw::RawTableInner::fallible_with_capacity::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1515:21: 1515:87
    = note: inside `hashbrown::raw::RawTableInner::prepare_resize::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2584:13: 2584:94
    = note: inside `hashbrown::raw::RawTableInner::resize_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2782:29: 2782:86
    = note: inside `hashbrown::raw::RawTableInner::reserve_rehash_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2670:13: 2676:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve_rehash::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:991:13: 1002:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:939:20: 940:81
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::find_or_find_insert_slot::<{closure@hashbrown::map::equivalent_key<std::string::String, std::string::String, typelang::runtime::BindingValue>::{closure#0}}, {closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1146:9: 1146:32
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::find_or_find_insert_slot::<std::string::String>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1812:9: 1816:10
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::insert` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1792:15: 1792:54
    = note: inside `std::collections::HashMap::<std::string::String, typelang::runtime::BindingValue>::insert` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/collections/hash/map.rs:1208:9: 1208:31
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:155:9: 158:53
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc479424 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc472349 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc646606 (Rust heap, size: 332, align: 8), allocated here:
   --> /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15
    |
 19 |         match alloc.allocate(layout) {
    |               ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `hashbrown::raw::alloc::inner::do_alloc::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15: 19:37
    = note: inside `hashbrown::raw::RawTableInner::new_uninitialized::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1476:38: 1476:61
    = note: inside `hashbrown::raw::RawTableInner::fallible_with_capacity::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1515:21: 1515:87
    = note: inside `hashbrown::raw::RawTableInner::prepare_resize::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2584:13: 2584:94
    = note: inside `hashbrown::raw::RawTableInner::resize_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2782:29: 2782:86
    = note: inside `hashbrown::raw::RawTableInner::reserve_rehash_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2670:13: 2676:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve_rehash::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:991:13: 1002:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:939:20: 940:81
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::find_or_find_insert_slot::<{closure@hashbrown::map::equivalent_key<std::string::String, std::string::String, typelang::runtime::BindingValue>::{closure#0}}, {closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1146:9: 1146:32
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::find_or_find_insert_slot::<std::string::String>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1812:9: 1816:10
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::insert` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1792:15: 1792:54
    = note: inside `std::collections::HashMap::<std::string::String, typelang::runtime::BindingValue>::insert` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/collections/hash/map.rs:1208:9: 1208:31
    = note: inside `typelang::evaluator::Env::insert::<std::string::String>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:155:9: 158:53
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:150:9: 150:48
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc474230 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc470906 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc645844 (Rust heap, size: 80, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27
    |
418 |                 Box::leak(Box::new(RcInner { strong: Cell::new(1), weak: Cell::new(1), value }))
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::rc::Rc::<typelang::runtime::EnvFrame>::new` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27: 418:96
    = note: inside `typelang::evaluator::Env::child` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:134:20: 134:68
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:143:21: 143:32
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc576245 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:92:9: 92:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc577553 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc477900 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:92:9: 92:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc480316 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:19
    |
147 |             body: Box::new(rhs.clone()),
    |                   ^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:19: 147:40
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc480389 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:150:26: 150:38
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc638034 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc575937 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:99:9: 99:25
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc480035 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc576037 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:87:9: 87:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc568435 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc476611 (Rust heap, size: 7, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc477592 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:99:9: 99:25
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc645482 (Rust heap, size: 7, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc477692 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:87:9: 87:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc642031 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc636745 (Rust heap, size: 80, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27
    |
418 |                 Box::leak(Box::new(RcInner { strong: Cell::new(1), weak: Cell::new(1), value }))
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::rc::Rc::<typelang::runtime::EnvFrame>::new` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27: 418:96
    = note: inside `typelang::evaluator::Env::from_map` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:127:20: 127:48
    = note: inside `typelang::evaluator::Env::new` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:121:9: 121:39
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:19:15: 19:25
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc637626 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc578318 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:97:9: 97:19
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc568846 (Rust heap, size: 4, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc636856 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc575640 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc473798 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc637283 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc479738 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:92:9: 92:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc477295 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc479684 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc470212 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc577767 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc639837 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc478768 (Rust heap, size: 332, align: 8), allocated here:
   --> /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15
    |
 19 |         match alloc.allocate(layout) {
    |               ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `hashbrown::raw::alloc::inner::do_alloc::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15: 19:37
    = note: inside `hashbrown::raw::RawTableInner::new_uninitialized::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1476:38: 1476:61
    = note: inside `hashbrown::raw::RawTableInner::fallible_with_capacity::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1515:21: 1515:87
    = note: inside `hashbrown::raw::RawTableInner::prepare_resize::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2584:13: 2584:94
    = note: inside `hashbrown::raw::RawTableInner::resize_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2782:29: 2782:86
    = note: inside `hashbrown::raw::RawTableInner::reserve_rehash_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2670:13: 2676:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve_rehash::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:991:13: 1002:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:939:20: 940:81
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::find_or_find_insert_slot::<{closure@hashbrown::map::equivalent_key<std::string::String, std::string::String, typelang::runtime::BindingValue>::{closure#0}}, {closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1146:9: 1146:32
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::find_or_find_insert_slot::<std::string::String>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1812:9: 1816:10
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::insert` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1792:15: 1792:54
    = note: inside `std::collections::HashMap::<std::string::String, typelang::runtime::BindingValue>::insert` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/collections/hash/map.rs:1208:9: 1208:31
    = note: inside `typelang::evaluator::Env::insert::<std::string::String>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:155:9: 158:53
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:150:9: 150:48
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc576405 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:97:9: 97:19
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc478060 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:97:9: 97:19
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc469096 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc571138 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc480195 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:99:9: 99:25
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc467861 (Rust heap, size: 80, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27
    |
418 |                 Box::leak(Box::new(RcInner { strong: Cell::new(1), weak: Cell::new(1), value }))
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::rc::Rc::<typelang::runtime::EnvFrame>::new` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27: 418:96
    = note: inside `typelang::evaluator::Env::from_map` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:127:20: 127:48
    = note: inside `typelang::evaluator::Env::new` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:121:9: 121:39
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:19:15: 19:25
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc479287 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:97:9: 97:19
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc578659 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:19
    |
147 |             body: Box::new(rhs.clone()),
    |                   ^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:19: 147:40
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc566098 (Rust heap, size: 80, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27
    |
418 |                 Box::leak(Box::new(RcInner { strong: Cell::new(1), weak: Cell::new(1), value }))
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::rc::Rc::<typelang::runtime::EnvFrame>::new` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27: 418:96
    = note: inside `typelang::evaluator::Env::from_map` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:127:20: 127:48
    = note: inside `typelang::evaluator::Env::new` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:121:9: 121:39
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:19:15: 19:25
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc646242 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:19
    |
147 |             body: Box::new(rhs.clone()),
    |                   ^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:19: 147:40
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc479006 (Rust heap, size: 24, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<std::string::String>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<std::string::String>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<std::string::String as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:423:31: 423:68
    = note: inside `std::slice::<impl [std::string::String]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<std::string::String> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:146:21: 146:35
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc571484 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc572238 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc578732 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:150:26: 150:38
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc578378 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc477090 (Rust heap, size: 24, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<std::string::String>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<std::string::String>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<std::string::String as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:423:31: 423:68
    = note: inside `std::slice::<impl [std::string::String]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<std::string::String> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:146:21: 146:35
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc472004 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc574273 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc643064 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc571830 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc479125 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<std::string::String as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:430:36: 430:45
    = note: inside `std::slice::<impl [std::string::String]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<std::string::String> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:146:21: 146:35
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc467972 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc575854 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc477209 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<std::string::String as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:430:36: 430:45
    = note: inside `std::slice::<impl [std::string::String]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<std::string::String> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:146:21: 146:35
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc477509 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc479898 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc566209 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc566636 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc568090 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc476266 (Rust heap, size: 4, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc578081 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:92:9: 92:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc576746 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:19
    |
147 |             body: Box::new(rhs.clone()),
    |                   ^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:19: 147:40
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc641686 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc478401 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:19
    |
147 |             body: Box::new(rhs.clone()),
    |                   ^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:19: 147:40
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc578027 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc472761 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc576465 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc478120 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc473107 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc479347 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc644794 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc476977 (Rust heap, size: 80, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27
    |
418 |                 Box::leak(Box::new(RcInner { strong: Cell::new(1), weak: Cell::new(1), value }))
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::rc::Rc::<typelang::runtime::EnvFrame>::new` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/rc.rs:418:27: 418:96
    = note: inside `typelang::evaluator::Env::child` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:134:20: 134:68
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:143:21: 143:32
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc473453 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc638800 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc578538 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:99:9: 99:25
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc577630 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:97:9: 97:19
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc639146 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc576168 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:92:9: 92:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc577349 (Rust heap, size: 24, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<std::string::String>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<std::string::String>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<std::string::String as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:423:31: 423:68
    = note: inside `std::slice::<impl [std::string::String]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<std::string::String> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:146:21: 146:35
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc477823 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:92:9: 92:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc576114 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc480112 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc477769 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc639492 (Rust heap, size: 4, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc570320 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc577468 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<std::string::String as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:430:36: 430:45
    = note: inside `std::slice::<impl [std::string::String]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<std::string::String> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:146:21: 146:35
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc567323 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc468751 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc570793 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc574617 (Rust heap, size: 4, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc578241 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc470559 (Rust heap, size: 4, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc576625 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:99:9: 99:25
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc575717 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:97:9: 97:19
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc478280 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:99:9: 99:25
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc479815 (Rust heap, size: 4, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:92:9: 92:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc477372 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:97:9: 97:19
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc566980 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc642719 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc575436 (Rust heap, size: 24, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<std::string::String>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<std::string::String>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<std::string::String as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:423:31: 423:68
    = note: inside `std::slice::<impl [std::string::String]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<std::string::String> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:146:21: 146:35
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc646316 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:150:26: 150:38
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc479507 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:99:9: 99:25
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc479607 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:87:9: 87:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc575555 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<std::string::String as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:430:36: 430:45
    = note: inside `std::slice::<impl [std::string::String]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<std::string::String> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:146:21: 146:35
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc577690 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc576328 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc475921 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc642376 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc477983 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc641341 (Rust heap, size: 2, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc645138 (Rust heap, size: 4, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc479210 (Rust heap, size: 72, align: 8), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13
    |
502 |             alloc.allocate(layout)?.cast()
    |             ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `std::boxed::Box::<typelang::Expr>::try_new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:502:13: 502:35
    = note: inside `std::boxed::Box::<typelang::Expr>::new_uninit_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:469:15: 469:44
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1772:25: 1772:60
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:86:9: 86:24
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc640933 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_let_polymorphism_eval_ok`
   --> tests/types_infer.rs:149:17
    |
149 |     let value = eval_value("let id x = x in (id 1, id True)");
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> tests/types_infer.rs:148:36
    |
146 | #[test]
    | ------- in this attribute macro expansion
147 | /// let å¤šç›¸ãŒè©•ä¾¡ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
148 | fn infer_let_polymorphism_eval_ok() {
    |                                    ^

error: memory leaked: alloc576820 (Rust heap, size: 4, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:150:26: 150:38
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc572842 (Rust heap, size: 2600, align: 8), allocated here:
   --> /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15
    |
 19 |         match alloc.allocate(layout) {
    |               ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `hashbrown::raw::alloc::inner::do_alloc::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/alloc.rs:19:15: 19:37
    = note: inside `hashbrown::raw::RawTableInner::new_uninitialized::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1476:38: 1476:61
    = note: inside `hashbrown::raw::RawTableInner::fallible_with_capacity::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1515:21: 1515:87
    = note: inside `hashbrown::raw::RawTableInner::prepare_resize::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2584:13: 2584:94
    = note: inside `hashbrown::raw::RawTableInner::resize_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2782:29: 2782:86
    = note: inside `hashbrown::raw::RawTableInner::reserve_rehash_inner::<std::alloc::Global>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:2670:13: 2676:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve_rehash::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:991:13: 1002:14
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::reserve::<{closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:939:20: 940:81
    = note: inside `hashbrown::raw::RawTable::<(std::string::String, typelang::runtime::BindingValue)>::find_or_find_insert_slot::<{closure@hashbrown::map::equivalent_key<std::string::String, std::string::String, typelang::runtime::BindingValue>::{closure#0}}, {closure@hashbrown::map::make_hasher<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::{closure#0}}>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/raw/mod.rs:1146:9: 1146:32
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::find_or_find_insert_slot::<std::string::String>` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1812:9: 1816:10
    = note: inside `hashbrown::map::HashMap::<std::string::String, typelang::runtime::BindingValue, std::hash::RandomState>::insert` at /home/hsin/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hashbrown-0.15.5/src/map.rs:1792:15: 1792:54
    = note: inside `std::collections::HashMap::<std::string::String, typelang::runtime::BindingValue>::insert` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/collections/hash/map.rs:1208:9: 1208:31
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:155:9: 158:53
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc578455 (Rust heap, size: 1, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:43:9: 43:21
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:98:9: 98:24
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:93:9: 93:23
    = note: inside `<typelang::Expr as std::clone::uninit::CopySpec>::clone_one` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone/uninit.rs:19:29: 19:40
    = note: inside `<typelang::Expr as std::clone::CloneToUninit>::clone_to_uninit` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/clone.rs:519:18: 519:82
    = note: inside `<std::boxed::Box<typelang::Expr> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/boxed.rs:1774:13: 1774:64
    = note: inside `<typelang::Expr as std::clone::Clone>::clone` at /home/hsin/myprojects/typelang-hm-rs/src/ast.rs:88:9: 88:31
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:147:28: 147:39
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc478475 (Rust heap, size: 4, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `<std::vec::Vec<u8> as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3573:9: 3573:41
    = note: inside `<std::string::String as std::clone::Clone>::clone` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:2290:23: 2290:39
    = note: inside `typelang::evaluator::eval_let_in` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:150:26: 150:38
    = note: inside `typelang::evaluator::eval_expr_inner` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:81:41: 81:73
    = note: inside `typelang::evaluator::eval_expr` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:57:5: 57:28
note: inside `support::eval_result`
   --> tests/test_support.rs:48:5
    |
 48 |     evaluator::eval_expr(&expr, &env)
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:176:17
    |
176 |       let value = eval_value(
    |  _________________^
177 | |         r#"
178 | |         let even n = if n == 0 then True else odd (n - 1);
179 | |             odd n = if n == 0 then False else even (n - 1)
...   |
182 | |         .trim(),
183 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

error: memory leaked: alloc569191 (Rust heap, size: 3, align: 1), allocated here:
   --> /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41
    |
468 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: BACKTRACE:
    = note: inside `alloc::raw_vec::RawVecInner::try_allocate_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:468:41: 468:63
    = note: inside `alloc::raw_vec::RawVecInner::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:419:15: 419:92
    = note: inside `alloc::raw_vec::RawVec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:187:20: 187:77
    = note: inside `std::vec::Vec::<u8>::with_capacity_in` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:929:20: 929:61
    = note: inside `<u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:445:29: 445:66
    = note: inside `std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:398:16: 398:38
    = note: inside `std::slice::<impl [u8]>::to_vec` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:374:9: 374:31
    = note: inside `std::slice::<impl std::borrow::ToOwned for [u8]>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:838:9: 838:22
    = note: inside `std::str::<impl std::borrow::ToOwned for str>::to_owned` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/str.rs:211:46: 211:72
    = note: inside `<std::string::String as std::convert::From<&str>>::from` at /home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/string.rs:3006:9: 3006:21
    = note: inside `typelang::evaluator::Env::insert::<&str>` at /home/hsin/myprojects/typelang-hm-rs/src/runtime.rs:153:19: 153:29
    = note: inside `typelang::evaluator::initial_env` at /home/hsin/myprojects/typelang-hm-rs/src/evaluator.rs:21:9: 21:48
note: inside `support::eval_result`
   --> tests/test_support.rs:47:15
    |
 47 |     let env = evaluator::initial_env();
    |               ^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `support::eval_value`
   --> tests/test_support.rs:52:5
    |
 52 |     eval_result(src).expect("eval value")
    |     ^^^^^^^^^^^^^^^^
note: inside `infer_and_eval_mutual_recursion_functions`
   --> tests/types_infer.rs:188:21
    |
188 |       let value_odd = eval_value(
    |  _____________________^
189 | |         r#"
190 | |         let even n = if n == 0 then True else odd (n - 1);
191 | |             odd n = if n == 0 then False else even (n - 1)
...   |
194 | |         .trim(),
195 | |     );
    | |_____^
note: inside closure
   --> tests/types_infer.rs:161:47
    |
159 | #[test]
    | ------- in this attribute macro expansion
160 | /// ç›¸äº’å†å¸°ã™ã‚‹ let æŸç¸›ãŒåž‹æŽ¨è«–ã¨è©•ä¾¡ã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
161 | fn infer_and_eval_mutual_recursion_functions() {
    |                                               ^

note: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace

note: set `MIRIFLAGS=-Zmiri-ignore-leaks` to disable this check

error: aborting due to 143 previous errors

error: test failed, to rerun pass `--test types_infer`

Caused by:
  process didn't exit successfully: `/home/hsin/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/cargo-miri runner /home/hsin/myprojects/typelang-hm-rs/target/miri/x86_64-unknown-linux-gnu/debug/deps/types_infer-ae34fe1e2d11f901` (exit status: 1)
note: test exited abnormally; to see the full output pass --no-capture to the harness.
make: *** [Makefile:80: miri] ã‚¨ãƒ©ãƒ¼ 1
